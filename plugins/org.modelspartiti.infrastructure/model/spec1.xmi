<?xml version="1.0" encoding="UTF-8"?>
<SBATPL:specification
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:SBATPL="http://rcl.dsi.unifi.it/modeling/sba-templates.ecore"
    xsi:schemaLocation="http://rcl.dsi.unifi.it/modeling/sba-templates.ecore sba-templates.ecore">
  <library>
    <templates
        xsi:type="SBATPL:atomic"
        name="a1"
        body="location.xmi">
      <parameters
          name="p1">
        <default
            xsi:type="SBATPL:value_int"
            value="2"/>
      </parameters>
      <parameters
          name="p2">
        <default
            xsi:type="SBATPL:value_int"
            value="3"/>
      </parameters>
      <interfaces
          xsi:type="SBATPL:interfarray"
          name="i1">
        <mult
            xsi:type="SBATPL:paramref"
            ref="//@library/@templates.0/@parameters.0"/>
        <prefix>serv</prefix>
      </interfaces>
    </templates>
    <templates
        xsi:type="SBATPL:composition"
        name="comp1">
      <interfaces
          xsi:type="SBATPL:interf"
          name="i2"/>
      <mergerules
          xsi:type="SBATPL:mergeall"
          name="r1">
        <ref
            item="//@library/@templates.0/@interfaces.0"
            block="//@library/@templates.1/@submodules.0"/>
      </mergerules>
      <submodules
          name="b1"
          ref="a1">
        <mult
            xsi:type="SBATPL:value_int"
            value="7"/>
      </submodules>
    </templates>
  </library>
  <scenarios
      root="c2"
      name="s1">
    <components
        name="c1"
        template="a1">
      <assignments
          ref="//@library/@templates.0/@parameters.0">
        <value
            xsi:type="SBATPL:value_int"
            value="42"/>
      </assignments>
      <assignments
          ref="//@library/@templates.0/@parameters.1">
        <value
            xsi:type="SBATPL:value_int"
            value="35"/>
      </assignments>
    </components>
    <components
        name="c2"
        template="comp1">
      <subcomponents
          ref="c1"
          role="//@library/@templates.1/@submodules.0"/>
    </components>
  </scenarios>
</SBATPL:specification>
